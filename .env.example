# ===========================================
# EV Platform - Environment Variables
# Copy this file to .env.local and fill in your values
# ===========================================

# -------------------------------------------
# AI APIs (Required)
# -------------------------------------------

# DeepSeek API (Primary - cheaper, better Chinese)
# Get key at: https://platform.deepseek.com/
DEEPSEEK_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxx

# OpenAI API (Backup for text, Required for image generation)
# Get key at: https://platform.openai.com/
# Note: DALL-E 3 image generation costs ~$0.04/image (1024x1024)
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxx

# -------------------------------------------
# Database (Required)
# -------------------------------------------

# Supabase
# Get these at: https://supabase.com/dashboard/project/YOUR_PROJECT/settings/api
NEXT_PUBLIC_SUPABASE_URL=https://xxxxxxxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
SUPABASE_SERVICE_ROLE_KEY=eyJxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Prisma Database URL (constructed from Supabase)
DATABASE_URL=postgresql://postgres.[PROJECT_REF]:[PASSWORD]@aws-0-us-east-1.pooler.supabase.com:6543/postgres?pgbouncer=true
DIRECT_URL=postgresql://postgres.[PROJECT_REF]:[PASSWORD]@aws-0-us-east-1.pooler.supabase.com:5432/postgres

# -------------------------------------------
# X (Twitter) API (Required for auto-posting)
# -------------------------------------------

# Get these at: https://developer.x.com/en/portal/dashboard
# Need "Free" or "Basic" tier ($100/mo for Basic)
X_API_KEY=xxxxxxxxxxxxxxxxxxxxxxxx
X_API_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
X_ACCESS_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxx-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
X_ACCESS_TOKEN_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
X_BEARER_TOKEN=AAAAAAAAAAAAAAAAAAAAAxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Max auto-publish attempts before requiring manual retry (default: 2)
# After this many failures, cron will skip the post and admin must manually retry
X_MAX_PUBLISH_ATTEMPTS=2

# -------------------------------------------
# Website Configuration
# -------------------------------------------

# Your website URL (used in X posts)
NEXT_PUBLIC_SITE_URL=https://your-domain.com

# Site name
NEXT_PUBLIC_SITE_NAME=EV Juice

# -------------------------------------------
# Optional: Analytics & Monitoring
# -------------------------------------------

# Vercel Analytics (auto-configured on Vercel)
# VERCEL_ANALYTICS_ID=

# Sentry for error tracking
# SENTRY_DSN=

# -------------------------------------------
# Optional: Email (for newsletters)
# -------------------------------------------

# Resend API (recommended for transactional emails)
# Get key at: https://resend.com/
# RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxx

# Or use SendGrid
# SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxxxxx

# -------------------------------------------
# Scraper Configuration (Python service)
# -------------------------------------------

# Webhook secret for scraper -> website communication
SCRAPER_WEBHOOK_SECRET=your-random-secret-string-here

# Scraper API endpoint (if running separately)
# SCRAPER_API_URL=https://your-scraper.railway.app

# -------------------------------------------
# Cron Jobs (Vercel)
# -------------------------------------------

# Secret for Vercel Cron authentication
CRON_SECRET=your-random-cron-secret-here

# -------------------------------------------
# X Posting Configuration
# -------------------------------------------

# VIP threshold - posts with score >= this get individual tweets (default: 85)
X_VIP_THRESHOLD=85

# Minimum relevance score for auto-approval and digest inclusion (default: 50)
X_MIN_RELEVANCE_SCORE=50

# Maximum posts per day across all types (default: 15)
X_MAX_POSTS_PER_DAY=15

# Maximum VIP posts per cron run (default: 2)
X_MAX_VIP_PER_RUN=2

# Set to "true" to disable X posting (useful for testing)
# SKIP_X_PUBLISH=true
